(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],f=0,h=[];f<s.length;f++)r=s[f],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=(a("5c0b"),a("2877")),s={},c=Object(r["a"])(s,o,i,!1,null,null,null),l=c.exports,u=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{"background-color":"#42b983",width:"1010px",height:"810px"}},[t.isChina?t._e():a("div",{staticStyle:{float:"left",position:"relative",top:"50px",left:"250px","z-index":"5"}},[a("el-button",{attrs:{type:"success"},on:{click:t.getworld}},[t._v("刷新")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEc(0)}}},[t._v("现存确诊")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEc(1)}}},[t._v("总确诊")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEc(2)}}},[t._v("新增确诊")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEcs(t.check)}}},[t._v("中国")])],1),t.isChina?a("div",{staticStyle:{float:"left",position:"relative",left:"250px","z-index":"5"}},[a("h3",[t._v("上次更新时间"+t._s(t.lastTime))]),a("el-button",{attrs:{type:"success"},on:{click:t.getSd}},[t._v("刷新")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEcs(0)}}},[t._v("现存确诊")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEcs(1)}}},[t._v("总确诊")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEcs(2)}}},[t._v("新增确诊")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setEc(t.check)}}},[t._v("全球")])],1):t._e(),a("div",{ref:"chart",staticStyle:{width:"1000px",height:"800px"}})])])},h=[],d=(a("4160"),a("b0c0"),a("ac1f"),a("5319"),a("1276"),a("159b"),a("313e")),p=a.n(d),v=a("03d6b"),m=a("1f26"),g=a("bc3a"),b=a.n(g),w={name:"echartest",data:function(){return{chinaTotal:0,chinaAdd:0,chinaNow:0,datas:[],worldData:[],lastTime:"",check:0,isLoading:!1,isChina:!1,worldNames:[],worldValue:[]}},mounted:function(){this.isLoading=!0,this.getSd(),this.getworld()},methods:{test:function(){return b.a.get("./fanyi.json")},getworld:function(){var t=this;this.isLoading=!0,b.a.post("/aki/ranklist").then((function(e){var a=e.data.data,n=[];a.forEach((function(t){n.push(t.name)})),t.worldData=a,t.test().then((function(e){console.log(e.data.dst);var a=e.data.dst;console.log(a);var n=('"'+a.replace(/, /g,'","')+'"').split(",");t.worldNames=n,t.setEc(t.check),t.isLoading=!1}))}))},getSd:function(){var t=this;this.isLoading=!0,b.a.post("/api/getDisease.html").then((function(e){var a=JSON.parse(e.data.data);console.log(a);var n=a.areaTree[0].children;t.datas=n,t.chinaTotal=a.chinaTotal.confirm,t.chinaAdd=a.chinaAdd.confirm,t.chinaNow=a.chinaTotal.nowConfirm,t.lastTime=a.lastUpdateTime,t.isLoading=!1}))},setEcs:function(t){var e=0,a=100,n=" 地图",o=[],i=[],r=[];this.check=t,0===t&&(n="国内现存确诊地图",this.datas.forEach((function(t,e){i.push(t.name),r.push(t.total.confirm-t.total.dead-t.total.heal),o.push({name:i[e],value:r[e]})})),e=0,a=100),1===t&&(n="国内总确诊地图",this.datas.forEach((function(t,e){i.push(t.name),r.push(t.total.confirm),o.push({name:i[e],value:r[e]})})),e=0,a=3e3),2===t&&(n="国内新增确诊地图",this.datas.forEach((function(t,e){i.push(t.name),r.push(t.today.confirm),o.push({name:i[e],value:r[e]})})),e=0,a=5),p.a.registerMap("china",v);var s=p.a.init(this.$refs.chart);s.clear();var c={title:{text:n,left:"center"},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2},visualMap:{left:"right",min:e,max:a,inRange:{color:["#f9f9fa","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],calculable:!0},toolbox:{show:!0,left:"left",top:"top",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},series:[{name:"数据",type:"map",roam:!0,map:"china",emphasis:{label:{show:!0}},itemStyle:{normal:{label:{show:!0}}},data:o}]};s.setOption(c),this.isChina=!0,s.on("click",(function(t){console.log(t)}))},setEc:function(t){var e=this,a=[],n="";this.isChina=!1,this.check=t;var o=0,i=100;p.a.registerMap("world",m);var r=[];0===t&&(this.worldData.forEach((function(t,n){r.push(t.nowConfirm);var o=e.worldNames[n];o=o.substring(1,o.length-1),"USA"===o&&(o="United States"),a.push({name:o,value:r[n]})})),a.push({name:"China",value:this.chinaNow}),n="世界疫情现存地图",o=1e3,i=1e5),1===t&&(this.worldData.forEach((function(t,n){r.push(t.confirm);var o=e.worldNames[n];o=o.substring(1,o.length-1),"USA"===o&&(o="United States"),a.push({name:o,value:r[n]})})),a.push({name:"China",value:this.chinaTotal}),n="世界疫情总确诊地图",o=1e5,i=1e6),2===t&&(this.worldData.forEach((function(t,n){r.push(t.confirmAdd);var o=e.worldNames[n];o=o.substring(1,o.length-1),"USA"===o&&(o="United States"),a.push({name:o,value:r[n]})})),a.push({name:"China",value:this.chinaAdd}),n="世界疫情新增确诊地图",o=10,i=1e3);var s=p.a.init(this.$refs.chart);s.clear();var c={title:{text:n,left:"center"},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2},visualMap:{left:"right",min:o,max:i,inRange:{color:["#f9f9fa","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],calculable:!0},toolbox:{show:!0,left:"left",top:"top",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},series:[{name:"数据",type:"map",roam:!0,map:"world",emphasis:{label:{show:!0}},itemStyle:{normal:{label:{show:!1}}},data:a}]};s.setOption(c);var l=this;s.on("click",(function(t){console.log(t),"China"===t.name&&(console.log(1111),l.setEcs(l.check))}))}}},y=w,x=Object(r["a"])(y,f,h,!1,null,"61c8ba58",null),k=x.exports;n["default"].use(u["a"]);var _=[{path:"/",name:"Home",component:k}],S=new u["a"]({mode:"history",routes:_}),E=S,O=a("2f62");n["default"].use(O["a"]);var T=new O["a"].Store({state:{},mutations:{},actions:{},modules:{}}),j=a("5c96"),C=a.n(j);a("0fae");n["default"].config.productionTip=!1,n["default"].use(C.a),new n["default"]({router:E,store:T,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),o=a.n(n);o.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.0f984fe8.js.map
